<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="products">Products - POS</title>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <div class="language-switcher">
    <button class="lang-btn" data-lang="en">EN</button>
    <main class="main-content">
      <header class="top-bar">
        <h1 data-i18n="products">Products</h1>
      </header>

      <section class="content-area">
        <div class="card">
          <div class="card-header" data-i18n="add_product">Add Product</div>
          <div class="card-body">
            <form id="product-form" class="form-grid">
              <div class="form-group">
                <label for="product-code" data-i18n="product_code">Product Code:</label>
                <input type="text" id="product-code" required>
              </div>

              <div class="form-group">
                <label for="product-name" data-i18n="product_name">Product Name:</label>
                <input type="text" id="product-name" required>
              </div>

              <div class="form-group">
                <label for="product-category" data-i18n="category">Category:</label>
                <select id="product-category"></select>
              </div>

              <div class="form-group">
                <label for="product-barcode" data-i18n="barcode">Barcode (optional):</label>
                <input type="text" id="product-barcode">
              </div>

              <div class="form-group">
                <label for="product-price" data-i18n="price">Price:</label>
                <input type="number" id="product-price" step="0.01" required>
              </div>

              <div class="form-group">
                <label for="product-cost" data-i18n="cost">Cost:</label>
                <input type="number" id="product-cost" step="0.01">
              </div>

              <div class="form-group">
                <label for="product-stock" data-i18n="stock">Stock:</label>
                <input type="number" id="product-stock" min="0">
              </div>

              <div class="form-group">
                <button type="submit" class="btn btn-success" data-i18n="add_product">Add Product</button>
              </div>
            </form>
          </div>
        </div>

        <div class="card">
          <div class="card-header" data-i18n="product_list">Product List</div>
          <div class="card-body">
            <button onclick="openStockAudit()" class="btn btn-warning mb-10" data-i18n="stock_audit_btn">ğŸ“‹ Stock
              Audit</button>
            <table class="data-table">
              <thead>
                <tr>
                  <th data-i18n="product_code">Code</th>
                  <th data-i18n="product">Product</th>
                  <th data-i18n="barcode">Barcode</th>
                  <th data-i18n="category">Category</th>
                  <th data-i18n="price">Price</th>
                  <th data-i18n="cost">Cost</th>
                  <th data-i18n="stock">Stock</th>
                  <th data-i18n="actions">Actions</th>
                </tr>
              </thead>
              <tbody id="product-table-body">
                <!-- Populated by JS -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <div class="card-header" data-i18n="manage_categories">Manage Categories</div>
          <div class="card-body">
            <form id="category-form" class="form-grid">
              <div class="form-group">
                <label for="new-category" data-i18n="new_category">New Category:</label>
                <input type="text" id="new-category" required>
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary" data-i18n="add_category">Add Category</button>
              </div>
            </form>
            <ul id="category-list" class="mt-20"></ul>
          </div>
        </div>

      </section>
    </main>
  </div>

  <footer class="footer">
    Tashgheel POSÂ© 2025 - Designed and developed by <strong>itqan</strong> |
    <a href="tel:+201126522373">+201126522373 / +201155253886</a>
  </footer>

  <!-- Stock Audit Modal -->
  <div id="auditModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h3 data-i18n="stock_audit">Stock Audit</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th data-i18n="product_code">Code</th>
            <th data-i18n="product">Product</th>
            <th data-i18n="stock">Recorded</th>
            <th data-i18n="actual_stock">Actual</th>
            <th data-i18n="difference">Difference</th>
          </tr>
        </thead>
        <tbody id="auditTableBody"></tbody>
      </table>
      <div style="margin-top: 10px; text-align: right;">
        window.location.href = 'pos.html';
        return;
        }

        // Language handling
        const lang = localStorage.getItem('pos_language') || 'en';
        setLanguage(lang);

        document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
        const selectedLang = btn.dataset.lang;
        localStorage.setItem('pos_language', selectedLang);
        setLanguage(selectedLang);
        });
        });
        });

        function setLanguage(lang) {
        document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
        const t = {
        products: { en: 'Products', ar: 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª' },
        add_product: { en: 'Add Product', ar: 'Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬' },
        product_code: { en: 'Product Code:', ar: 'ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬:' },
        product_name: { en: 'Product Name:', ar: 'Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:' },
        category: { en: 'Category:', ar: 'Ø§Ù„ÙØ¦Ø©:' },
        barcode: { en: 'Barcode (optional):', ar: 'Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):' },
        price: { en: 'Price:', ar: 'Ø§Ù„Ø³Ø¹Ø±:' },
        cost: { en: 'Cost:', ar: 'Ø§Ù„ØªÙƒÙ„ÙØ©:' },
        stock: { en: 'Stock:', ar: 'Ø§Ù„ÙƒÙ…ÙŠØ©:' },
        actions: { en: 'Actions', ar: 'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª' },
        });
        }
        </script>
</body>

</html>